
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>大数据可视化Google Chart实现 | XingLiu&#39;s  Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="XingLiu">
    

    
    <meta name="description" content="本程序调用Weka API以及libsvm工具包，对基金数据库进行数据预处理，然后将处理好的数据通过Chart.js 框架来实现数据的可视化，接下来要说明实现流程。">
<meta property="og:type" content="article">
<meta property="og:title" content="大数据可视化Google Chart实现">
<meta property="og:url" content="http://pangjiuzala.github.io/2016/01/04/大数据可视化Google-Chart实现/index.html">
<meta property="og:site_name" content="XingLiu's  Blog">
<meta property="og:description" content="本程序调用Weka API以及libsvm工具包，对基金数据库进行数据预处理，然后将处理好的数据通过Chart.js 框架来实现数据的可视化，接下来要说明实现流程。">
<meta property="og:image" content="http://7xiur2.com1.z0.glb.clouddn.com/0643.png">
<meta property="og:image" content="http://7xiur2.com1.z0.glb.clouddn.com/0644.png">
<meta property="og:image" content="http://7xiur2.com1.z0.glb.clouddn.com/0654.png">
<meta property="og:image" content="http://7xiur2.com1.z0.glb.clouddn.com/0654.png">
<meta property="og:image" content="http://7xiur2.com1.z0.glb.clouddn.com/0655.png">
<meta property="og:updated_time" content="2016-01-11T13:13:54.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="大数据可视化Google Chart实现">
<meta name="twitter:description" content="本程序调用Weka API以及libsvm工具包，对基金数据库进行数据预处理，然后将处理好的数据通过Chart.js 框架来实现数据的可视化，接下来要说明实现流程。">

    
    <link rel="alternative" href="https://github.com/search?q=pangjiuzala&type=Users" title="XingLiu&#39;s  Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="XingLiu&#39;s  Blog" title="XingLiu&#39;s  Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="XingLiu&#39;s  Blog">XingLiu&#39;s  Blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">文章列表</a></li>
					
					<li>
 					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/01/04/大数据可视化Google-Chart实现/" title="大数据可视化Google Chart实现" itemprop="url">大数据可视化Google Chart实现</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="XingLiu" target="_blank" itemprop="author">XingLiu</a>
		
  <p class="article-time">
    <time datetime="2016-01-04T11:39:30.000Z" itemprop="datePublished"> 发表于 2016-01-04</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#数据读取"><span class="toc-number">1.</span> <span class="toc-text">数据读取</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#连接数据库"><span class="toc-number">1.1.</span> <span class="toc-text">连接数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查询数据"><span class="toc-number">1.2.</span> <span class="toc-text">查询数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据处理"><span class="toc-number">2.</span> <span class="toc-text">数据处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Weka连接数据库"><span class="toc-number">2.1.</span> <span class="toc-text">Weka连接数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据预处理"><span class="toc-number">2.2.</span> <span class="toc-text">数据预处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#非监督过滤"><span class="toc-number">2.2.1.</span> <span class="toc-text">非监督过滤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#存入到本地"><span class="toc-number">2.2.2.</span> <span class="toc-text">存入到本地</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对预处理后的数据分类"><span class="toc-number">2.2.3.</span> <span class="toc-text">对预处理后的数据分类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据显示"><span class="toc-number">3.</span> <span class="toc-text">数据显示</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#引入Chart-js文件"><span class="toc-number">3.1.</span> <span class="toc-text">引入Chart.js文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建图表"><span class="toc-number">3.2.</span> <span class="toc-text">创建图表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义表格"><span class="toc-number">3.3.</span> <span class="toc-text">自定义表格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据结构"><span class="toc-number">3.4.</span> <span class="toc-text">数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#预测数据获取"><span class="toc-number">3.5.</span> <span class="toc-text">预测数据获取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SVR预测类"><span class="toc-number">3.6.</span> <span class="toc-text">SVR预测类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#柱状图标参数"><span class="toc-number">3.7.</span> <span class="toc-text">柱状图标参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#蛛网图标参数"><span class="toc-number">3.8.</span> <span class="toc-text">蛛网图标参数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#运行"><span class="toc-number">4.</span> <span class="toc-text">运行</span></a></li></ol>
		
		</div>
		
		<p>本程序调用Weka API以及libsvm工具包，对基金数据库进行数据预处理，然后将处理好的数据通过Chart.js 框架来实现数据的可视化，接下来要说明实现流程。</p>
<a id="more"></a>
<p><a href="https://github.com/pangjiuzala/dataview" target="_blank" rel="external"><strong>完整版源码下载</strong></a></p>
<h1 id="数据读取">数据读取</h1><h2 id="连接数据库">连接数据库</h2><figure class="highlight protobuf"><table><tr><td class="code"><pre><span class="line"><span class="constant">Class.forName("com.mysql.jdbc.Driver").newInstance();</span><br><span class="line">    String url</span> = <span class="string">"jdbc:mysql://localhost:3306/test"</span>;</span><br><span class="line"><span class="constant">    String user</span> = <span class="string">"root"</span>;</span><br><span class="line"><span class="constant">    String password</span> = <span class="string">""</span>;</span><br><span class="line"><span class="constant">    Connection conn</span> = DriverManager.getConnection(url, user, password);</span><br><span class="line"><span class="constant">    Statement st</span> = conn.createStatement();</span><br></pre></td></tr></table></figure>
<h2 id="查询数据">查询数据</h2><p> 查询在2015年10月12日（周一）这一天的所有股票交易记录</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">ResultSet rs = st.executeQuery("<span class="operator"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> history <span class="keyword">where</span> <span class="keyword">Time</span>=<span class="string">'2015-10-12,1'</span><span class="string">");</span></span></span><br></pre></td></tr></table></figure>
<h1 id="数据处理">数据处理</h1><p>这部分使用weka API中的j48算法和svm算法来对数据进行处理</p>
<h2 id="Weka连接数据库">Weka连接数据库</h2><p>查询涨幅不小于0.1的数据<br><figure class="highlight autohotkey"><table><tr><td class="code"><pre><span class="line">InstanceQuery query = new InstanceQuery()<span class="comment">;</span></span><br><span class="line">   query.setDatabaseURL(<span class="string">"jdbc:mysql://localhost:3306/test"</span>)<span class="comment">;</span></span><br><span class="line">   query.setUsername(<span class="string">"root"</span>)<span class="comment">;</span></span><br><span class="line">   query.setPassword(<span class="string">""</span>)<span class="comment">;</span></span><br><span class="line">   query.setQuery(<span class="string">"SELECT <span class="escape">`O</span>pen<span class="escape">`,</span>Highest,Lowest,<span class="escape">`C</span>lose<span class="escape">`,</span> <span class="escape">`C</span>hange<span class="escape">`,</span>Increase,Amplitude,HandsAll,Money from history where Increase&gt;=0.1;"</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="数据预处理">数据预处理</h2><p>据预处理包括数据的缺失值处理、标准化、规范化和离散化处理。</p>
<ul>
<li>数据的缺失值处理</li>
</ul>
<p>weka.filters.unsupervised.attribute.ReplaceMissingValues。 对于数值属性，用平均值代替缺失值，对于nominal属性，用它的mode(出现最多的值)来代替缺失值。</p>
<ul>
<li>标准化</li>
</ul>
<p>类(standardize)weka.filters.unsupervised.attribute.Standardize。标准化给定数据集中所有数值属性的值到一个0均值和单位方差的正态分布。</p>
<ul>
<li>规范化(Nomalize)</li>
</ul>
<p>类weka.filters.unsupervised.attribute.Normalize。规范化给定数据集 中的所有数值属性值，类属性除外。结果值默认在区间[0,1]，但是利用缩放和平移参数，我们能将数值属性值规范到任何区间。如：但 scale=2.0，translation=-1.0时，你能将属性值规范到区间[-1,+1]。</p>
<ul>
<li>离散化(discretize)</li>
</ul>
<p><code>weka.filters.supervised.attribute.Discretize</code><br><code>weka.filters.unsupervised.attribute.Discretize</code>。</p>
<p>分别进行监督和无监督的数值属性的离散化，用来离散数 据集中的一些数值属性到分类属性。</p>
<p>数据预处理是所有数据挖掘算法的前提基础。拿到一个数据源，不太可能直接用于数据挖掘算法。</p>
<p>为了既不破坏业务数据的数据结构，又能为数据挖掘算法所使用，就需要进行数据预处理的过程，将数据源进行一定的处理，得到数据挖掘算法的输入数据。</p>
<h3 id="非监督过滤">非监督过滤</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"> <span class="number">1.</span>Add为数据库添加一个新的属性，新的属性将会包含所有缺失值。可选参数：attributeIndex：属性位置，从<span class="number">1</span>开始算，last是最后一个，first是第一个attributeName：属性名称attributeType：属性类型，一般是<span class="number">4</span>选<span class="number">1</span>dateFormat：数据格式，参考ISO-<span class="number">8601</span>nominalLabels：名义标签，多个值用逗号隔开</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>AddID字面意思，添加一个ID</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>AddNoise只对名义属性有效，依照一定比例修改值。</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>Center将数值化属性的平均化为<span class="number">0</span>。</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>ChangeDateFormat修改数据格式</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>Copy复制制定属性并命名为Copy Of XX</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>Discretize简单划分的离散化处理。参数：attributeIndices：属性范围，如<span class="number">1</span>-<span class="number">5</span>,first-lastbins：桶的数量</span><br><span class="line"></span><br><span class="line"><span class="number">9.F</span>irstOrder第n个值用n+<span class="number">1</span>项值和n项值的差替换</span><br><span class="line"></span><br><span class="line"><span class="number">10.</span>MathExpression功能和AddExpression类似，不过支持的运算更多，特别是MAX和MIN的支持特别有用。所有支持运算符如下：+, -, *, /, <span class="built_in">pow</span>, <span class="built_in">log</span>,<span class="built_in">abs</span>, <span class="built_in">cos</span>, <span class="built_in">exp</span>, <span class="built_in">sqrt</span>, <span class="built_in">tan</span>, <span class="built_in">sin</span>, <span class="built_in">ceil</span>, <span class="built_in">floor</span>, rint, (, ),A,MEAN, MAX, MIN, SD, COUNT, SUM, SUMSQUARED, </span><br><span class="line">ifelse11.Reorder重新排列属性，输入<span class="number">2</span>-last</span><br><span class="line"></span><br><span class="line"><span class="number">11.</span>可以让第一项排到最后，如果输入<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>的话…其他项就没有了</span><br><span class="line"></span><br><span class="line"><span class="number">12.</span>Standardize这个和Center功能大致相同，多了一个标准化单位变异数</span><br><span class="line"></span><br><span class="line"><span class="number">13.</span>StringToNominal将String型转化为Nominal型<span class="number">14.</span>SwapValues</span><br></pre></td></tr></table></figure>
<p> 然后是weka.filters.unsupervised.instance包下的</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span><span class="class">.NonSparseToSparse</span></span><br><span class="line"></span><br><span class="line">将所有输入转为稀疏格式</span><br><span class="line"><span class="number">2</span><span class="class">.Normalize</span></span><br><span class="line"></span><br><span class="line">规范化整个实例集</span><br><span class="line"><span class="number">3</span><span class="class">.RemoveFolds</span></span><br><span class="line"></span><br><span class="line">交叉验证，不支持分层，如果需要的话使用监督学习中的方法</span><br><span class="line"><span class="number">4</span><span class="class">.RemoveRange</span></span><br><span class="line"></span><br><span class="line">移除制定范围的实例，化为NaN</span><br><span class="line"><span class="number">5</span><span class="class">.Resample</span></span><br><span class="line"></span><br><span class="line">随机抽样，从现有样本产生新的小样本</span><br><span class="line"><span class="number">6</span><span class="class">.SubsetByExpression</span></span><br><span class="line"></span><br><span class="line">根据规则进行过滤，支持逻辑运算，向上取值，取绝对值等等</span><br></pre></td></tr></table></figure>
<p>代码实现如下</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line">   <span class="type">Instances</span> <span class="typedef"><span class="keyword">data</span> = query.retrieveInstances<span class="container">()</span>;</span></span><br><span class="line">   <span class="typedef"><span class="keyword">data</span>.setClassIndex<span class="container">(0)</span>; // 设置分类属性所在行号（第一行为0号）,instancesTest.numAttributes<span class="container">()</span>可以取得属性总数</span></span><br><span class="line">   <span class="typedef"><span class="keyword">data</span>.setClassIndex<span class="container">(0)</span>;</span></span><br><span class="line">   <span class="type">Discretize</span> discretize = new <span class="type">Discretize</span>();</span><br><span class="line">   <span class="type">String</span>[] options = new <span class="type">String</span>[<span class="number">6</span>]; </span><br><span class="line"><span class="title">options</span>[<span class="number">0</span>] = <span class="string">"-B"</span>; </span><br><span class="line"><span class="title">options</span>[<span class="number">1</span>] = <span class="string">"8"</span>; </span><br><span class="line"><span class="title">options</span>[<span class="number">2</span>] = <span class="string">"-M"</span>; </span><br><span class="line"><span class="title">options</span>[<span class="number">3</span>] = <span class="string">"-1.0"</span>; </span><br><span class="line"><span class="title">options</span>[<span class="number">4</span>] = <span class="string">"-R"</span>; </span><br><span class="line"><span class="title">options</span>[<span class="number">5</span>] = <span class="string">"2-last"</span>; </span><br><span class="line"><span class="title">discretize</span>.setOptions(options); </span><br><span class="line"><span class="title">discretize</span>.setInputFormat(<span class="typedef"><span class="keyword">data</span>); </span></span><br><span class="line"><span class="type">Instances</span> newInstances1 = <span class="type">Filter</span>.useFilter(<span class="typedef"><span class="keyword">data</span>, discretize);</span></span><br></pre></td></tr></table></figure>
<h3 id="存入到本地">存入到本地</h3><figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="type">DataSink</span>.write(<span class="string">"C://j48.arff"</span>, <span class="typedef"><span class="keyword">data</span>);</span></span><br></pre></td></tr></table></figure>
<p>此时在C盘根目录下会出现一个j48.arff文件</p>
<center><br><img src="http://7xiur2.com1.z0.glb.clouddn.com/0643.png" alt=""><br></center>




<h3 id="对预处理后的数据分类">对预处理后的数据分类</h3><p>以J48算法为例，代码如下</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">ile inputFile = <span class="keyword">new</span> File(<span class="string">"C://j48.arff"</span>);<span class="comment">//训练语料文件</span></span><br><span class="line"></span><br><span class="line">    ArffLoader atf = <span class="keyword">new</span> ArffLoader();</span><br><span class="line"></span><br><span class="line">    atf.setFile(inputFile);</span><br><span class="line"></span><br><span class="line">    Instances instancesTrain = atf.getDataSet(); <span class="comment">// 读入测试文件</span></span><br><span class="line"></span><br><span class="line">    instancesTrain.setClassIndex(<span class="number">0</span>); <span class="comment">// 设置分类属性所在行号（第一行为0号）,instancesTest.numAttributes()可以取得属性总数</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">double</span> sum = instancesTrain.numInstances(), <span class="comment">// 测试语料实例数</span></span><br><span class="line"></span><br><span class="line">    right = <span class="number">0.0f</span>;</span><br><span class="line"></span><br><span class="line">    data.setClassIndex(<span class="number">0</span>);</span><br><span class="line">    Classifier m_classifier = <span class="keyword">new</span> J48();</span><br><span class="line">    m_classifier.buildClassifier(data); <span class="comment">// 训练</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sum; i++)<span class="comment">// 测试分类结果</span></span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> (m_classifier.classifyInstance(instancesTrain.instance(i)) == instancesTrain</span><br><span class="line">          .instance(i).classValue())<span class="comment">// 如果预测值和答案值相等（测试语料中的分类列提供的须为正确答案,结果才有意义）</span></span><br><span class="line">      &#123;</span><br><span class="line"></span><br><span class="line">        right++;<span class="comment">// 正确值加1</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    out.println(<span class="string">"J48:"</span> + (right / sum));</span><br></pre></td></tr></table></figure>
<h1 id="数据显示">数据显示</h1><p>Chart.js框架，版本1.0.2，一个简单、轻量级的绘图框架，基于HTML5 canvas。这个框架能很多种图，折线图、柱状图、玫瑰图等。</p>
<h2 id="引入Chart-js文件">引入Chart.js文件</h2><p><a href="https://github.com/nnnick/Chart.js" target="_blank" rel="external">Char.js下载</a></p>
<p>我们将下载好的文件整个拷贝到WebRoot根目录下，效果如图</p>
<center><br><img src="http://7xiur2.com1.z0.glb.clouddn.com/0644.png" alt=""><br></center>

<p>首先我们需要在页面中引入Chart.js文件。此工具库在全局命名空间中定义了Chart变量。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"./Chart.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="创建图表">创建图表</h2><p>为了创建图表，我们要实例化一个Chart对象。为了完成前面的步骤，首先需要需要传入一个绘制图表的2d context。以下是案例。</p>
<ul>
<li>html代码</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">&lt;<span class="tag">div</span> id=<span class="string">"left"</span> style=<span class="string">"width:40%"</span>&gt;</span><br><span class="line">		&lt;<span class="tag">canvas</span> id=<span class="string">"canvas"</span> <span class="attribute">height</span>=<span class="string">"512"</span> <span class="attribute">width</span>=<span class="string">"512"</span>&gt;&lt;/canvas&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>js代码</li>
</ul>
<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.myBar = <span class="keyword">new</span> Chart(<span class="built_in">document</span>.getElementById(<span class="string">"canvab"</span>)</span><br><span class="line">					.getContext(<span class="string">"2d"</span>)).Bar(barChartData, &#123;</span><br><span class="line">				responsive : <span class="literal">true</span></span><br><span class="line">			&#125;);</span><br></pre></td></tr></table></figure>
<p>我们还可以用jQuery获取canvas的context。首先从jQuery集合中获取我们需要的DOM节点，然后在这个DOM节点上调用 getContext(“2d”) 方法。</p>
<figure class="highlight nimrod"><table><tr><td class="code"><pre><span class="line">//<span class="type">Get</span> context <span class="keyword">with</span> jQuery - <span class="keyword">using</span> jQuery's .get() <span class="keyword">method</span>.</span><br><span class="line"><span class="keyword">var</span> ctx = $(<span class="string">"#myChart"</span>).get(<span class="number">0</span>).getContext(<span class="string">"2d"</span>);</span><br><span class="line">//<span class="type">This</span> will get the first returned node <span class="keyword">in</span> the jQuery collection.</span><br><span class="line"><span class="keyword">var</span> myNewChart = new <span class="type">Chart</span>(ctx);</span><br></pre></td></tr></table></figure>
<p>当我们完成了在指定的canvas上实例化Chart对象之后，Chart.js会自动针对retina屏幕做缩放。</p>
<p>Chart对象设置完成后，我们就可以继续创建Chart.js中提供的具体类型的图表了。下面这个案例中，我们将展示如何绘制一幅极地区域图（Polar area chart）。</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Chart(ctx).PolarArea(data,<span class="keyword">options</span>);</span><br></pre></td></tr></table></figure>
<h2 id="自定义表格">自定义表格</h2><p>定义表格，方便将jdbc读取的数据传送到javaScript中。为每一个td设定一个id，通rs.getString()方法读取从数据库中获取的数据<br><figure class="highlight vbscript-html"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="title">tr</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Index"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Index"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Time"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Time"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Open"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Open"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Highest"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Highest"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Lowest"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Lowest"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Close"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Close"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Change"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Change"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Increase"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Increase"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Amplitude"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Amplitude"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"HandsAll"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"HandsAll"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"Money"</span>&gt;</span></span><span class="vbscript">&lt;%=rs.getString(<span class="string">"Money"</span>)%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line">			</span><br><span class="line">			<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">id</span>=<span class="value">"J48 classification precision"</span> <span class="attribute">value</span>=<span class="value">"J48"</span>&gt;</span></span><span class="vbscript">&lt;%=<span class="built_in">right</span> / sum%&gt;</span><span class="xml"><span class="tag">&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;/<span class="title">tr</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="数据结构">数据结构</h2><p>通过document.getElementById().innerHTML方法将td标签 中的数据传入到data:中</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> barChartData =</span><br><span class="line">&#123;</span><br><span class="line">    labels : [<span class="string">"Open"</span>, <span class="string">"Highest"</span>, <span class="string">"Lowest"</span>, <span class="string">"Close"</span>, <span class="string">"Change"</span>,</span><br><span class="line">        <span class="string">"Increase"</span>, <span class="string">"Amplitude"</span>, <span class="string">"HandsAll"</span>, <span class="string">"Money"</span>, <span class="string">"Accuracy"</span>],</span><br><span class="line">    datasets : [</span><br><span class="line">        &#123;</span><br><span class="line">            fillColor : <span class="string">"rgba(220,220,220,0.5)"</span>,</span><br><span class="line">            strokeColor : <span class="string">"rgba(220,220,220,0.8)"</span>,</span><br><span class="line">            highlightFill : <span class="string">"rgba(220,220,220,0.75)"</span>,</span><br><span class="line">            highlightStroke : <span class="string">"rgba(220,220,220,1)"</span>,</span><br><span class="line">            data : [</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Open"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Highest"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Lowest"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Close"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Change"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Increase"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Amplitude"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"HandsAll"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Money"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span></span><br><span class="line">                .getElementById(<span class="string">"J48 classification precision"</span>).innerHTML, ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            fillColor : <span class="string">"rgba(151,187,205,0.5)"</span>,</span><br><span class="line">            strokeColor : <span class="string">"rgba(151,187,205,0.8)"</span>,</span><br><span class="line">            highlightFill : <span class="string">"rgba(151,187,205,0.75)"</span>,</span><br><span class="line">            highlightStroke : <span class="string">"rgba(151,187,205,1)"</span>,</span><br><span class="line">            data : [</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Opens"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Highests"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Lowests"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Closes"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Changes"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Increases"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Amplitudes"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"HandsAlls"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"Moneys"</span>).innerHTML,</span><br><span class="line">                <span class="built_in">document</span></span><br><span class="line">                .getElementById(<span class="string">"SVM classification precision"</span>).innerHTML, ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="预测数据获取">预测数据获取</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">package cn.zju.edu.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*import weka.classifiers.functions.LibSVM;*/</span></span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">DataUtil</span> </span>&#123;</span><br><span class="line">public DataUtil() throws Exception&#123;</span><br><span class="line">		Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>).newInstance();</span><br><span class="line">		<span class="built_in">String</span> url = <span class="string">"jdbc:mysql://localhost:3306/test"</span>;</span><br><span class="line">		<span class="built_in">String</span> user = <span class="string">"root"</span>;</span><br><span class="line">		<span class="built_in">String</span> password = <span class="string">""</span>;</span><br><span class="line">		Connection conn = DriverManager.getConnection(url, user, password);</span><br><span class="line">		Statement st = conn.createStatement();</span><br><span class="line">		Statement st1 = conn.createStatement();</span><br><span class="line">		ResultSet rs = st</span><br><span class="line">				.executeQuery(<span class="string">"SELECT Increase FROM history where Time='2015-10-12,1'"</span>);</span><br><span class="line">		ResultSet rss = st1</span><br><span class="line">				.executeQuery(<span class="string">"SELECT Increase FROM history where Time='2015-10-13,2'"</span>);</span><br><span class="line">		<span class="keyword">while</span> (rs.next()&amp;&amp;rss.next()) &#123;</span><br><span class="line">			<span class="built_in">String</span> str = rs.getString(<span class="string">"Increase"</span>);</span><br><span class="line">            <span class="built_in">String</span> str2=rss.getString(<span class="string">"Increase"</span>);</span><br><span class="line">			newFile(<span class="string">"./train.txt"</span>, str+<span class="string">","</span>+str);<span class="comment">//保存2015年10月12日的涨幅情况用于训练</span></span><br><span class="line">			newFile(<span class="string">"./test.txt"</span>, str2+<span class="string">","</span>+str2);<span class="comment">//保存2015年10月13日的涨幅情况用于测试</span></span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	public static <span class="keyword">void</span> newFile(<span class="built_in">String</span> filePathAndName, <span class="built_in">String</span> fileContent) &#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">			File myFilePath = <span class="keyword">new</span> File(filePathAndName.toString());</span><br><span class="line">			<span class="keyword">if</span> (!myFilePath.exists()) &#123; <span class="comment">// 如果该文件不存在,则创建</span></span><br><span class="line">				myFilePath.createNewFile();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// FileWriter(myFilePath, true); 实现不覆盖追加到文件里</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">// FileWriter(myFilePath); 覆盖掉原来的内容</span></span><br><span class="line">			</span><br><span class="line">			FileWriter resultFile = <span class="keyword">new</span> FileWriter(myFilePath, <span class="literal">true</span>);</span><br><span class="line">			</span><br><span class="line">			PrintWriter myFile = <span class="keyword">new</span> PrintWriter(resultFile);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 给文件里面写内容,原来的会覆盖掉</span></span><br><span class="line">			myFile.println(fileContent);</span><br><span class="line"></span><br><span class="line">			resultFile.close();</span><br><span class="line"></span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="SVR预测类">SVR预测类</h2><figure class="highlight processing"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> class Predict &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		<span class="keyword">new</span> DataUtil();<span class="comment">//获取测试数据和训练数据</span></span><br><span class="line">		List&lt;Double&gt; label = <span class="keyword">new</span> ArrayList&lt;Double&gt;();</span><br><span class="line">		List&lt;svm_node[]&gt; nodeSet = <span class="keyword">new</span> ArrayList&lt;svm_node[]&gt;();</span><br><span class="line">		getData(nodeSet, label, <span class="string">"./train.txt"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">int</span> dataRange = nodeSet.<span class="built_in">get</span>(<span class="number">0</span>).length;</span><br><span class="line">		svm_node[][] datas = <span class="keyword">new</span> svm_node[nodeSet.<span class="built_in">size</span>()][dataRange]; <span class="comment">// 训练集的向量表</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; datas.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; dataRange; j++) &#123;</span><br><span class="line">				datas[i][j] = nodeSet.<span class="built_in">get</span>(i)[j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">double</span>[] lables = <span class="keyword">new</span> <span class="keyword">double</span>[label.<span class="built_in">size</span>()]; <span class="comment">// a,b 对应的lable</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; lables.length; i++) &#123;</span><br><span class="line">			lables[i] = label.<span class="built_in">get</span>(i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 定义svm_problem对象</span></span><br><span class="line">		svm_problem problem = <span class="keyword">new</span> svm_problem();</span><br><span class="line">		problem.l = nodeSet.<span class="built_in">size</span>(); <span class="comment">// 向量个数</span></span><br><span class="line">		problem.x = datas; <span class="comment">// 训练集向量表</span></span><br><span class="line">		problem.y = lables; <span class="comment">// 对应的lable数组</span></span><br><span class="line">		<span class="comment">// 定义svm_parameter对象</span></span><br><span class="line">		svm_parameter param = <span class="keyword">new</span> svm_parameter();</span><br><span class="line">		param.svm_type = svm_parameter.EPSILON_SVR;</span><br><span class="line">		param.kernel_type = svm_parameter.LINEAR;</span><br><span class="line">		param.cache_size = <span class="number">100</span>;</span><br><span class="line">		param.eps = <span class="number">0.00001</span>;</span><br><span class="line">		param.C = <span class="number">1.9</span>;</span><br><span class="line">		<span class="comment">// 训练SVM分类模型</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(svm.svm_check_parameter(problem, param));</span><br><span class="line">		<span class="comment">// 如果参数没有问题，则svm.svm_check_parameter()函数返回null,否则返回error描述。</span></span><br><span class="line">		svm_model model = svm.svm_train(problem, param);</span><br><span class="line">		<span class="comment">// svm.svm_train()训练出SVM分类模型</span></span><br><span class="line">		<span class="comment">// 获取测试数据</span></span><br><span class="line">		List&lt;Double&gt; testlabel = <span class="keyword">new</span> ArrayList&lt;Double&gt;();</span><br><span class="line">		List&lt;svm_node[]&gt; testnodeSet = <span class="keyword">new</span> ArrayList&lt;svm_node[]&gt;();</span><br><span class="line">		getData(testnodeSet, testlabel, <span class="string">"./test.txt"</span>);</span><br><span class="line">		svm_node[][] testdatas = <span class="keyword">new</span> svm_node[testnodeSet.<span class="built_in">size</span>()][dataRange]; <span class="comment">// 训练集的向量表</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; testdatas.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; dataRange; j++) &#123;</span><br><span class="line">				testdatas[i][j] = testnodeSet.<span class="built_in">get</span>(i)[j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">double</span>[] testlables = <span class="keyword">new</span> <span class="keyword">double</span>[testlabel.<span class="built_in">size</span>()]; <span class="comment">// a,b 对应的lable</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; testlables.length; i++) &#123;</span><br><span class="line">			testlables[i] = testlabel.<span class="built_in">get</span>(i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 预测测试数据的lable</span></span><br><span class="line">		<span class="keyword">double</span> err = <span class="number">0.0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; testdatas.length; i++) &#123;</span><br><span class="line">			<span class="keyword">double</span> truevalue = testlables[i];</span><br><span class="line">			System.out.<span class="built_in">print</span>(<span class="string">"真实值："</span>+truevalue + <span class="string">" "</span>);</span><br><span class="line">			<span class="keyword">double</span> predictValue = svm.svm_predict(model, testdatas[i]);</span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"预测值："</span>+predictValue);</span><br><span class="line">			err += Math.<span class="built_in">abs</span>(predictValue - truevalue);</span><br><span class="line">			Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>).newInstance();</span><br><span class="line">			<span class="keyword">String</span> url = <span class="string">"jdbc:mysql://localhost:3306/test"</span>;</span><br><span class="line">			<span class="keyword">String</span> user = <span class="string">"root"</span>;</span><br><span class="line">			<span class="keyword">String</span> password = <span class="string">""</span>;</span><br><span class="line">			Connection conn = DriverManager.getConnection(url, user, password);</span><br><span class="line">			Statement st = conn.createStatement();</span><br><span class="line">			st.executeUpdate(<span class="string">"insert into predictresult(truevalue,predictvalue) values('"</span>+truevalue+<span class="string">"'"</span>+<span class="string">","</span>+<span class="string">"'"</span>+predictValue+<span class="string">"');"</span>);</span><br><span class="line">			conn.close();</span><br><span class="line">			DataUtil.newFile(<span class="string">"./result.txt"</span>, <span class="string">"真实值："</span>+truevalue + <span class="string">" "</span>+<span class="string">"预测值："</span>+predictValue+<span class="string">" "</span>+<span class="string">"err="</span> + err / datas.length);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">/*System.out.println("err=" + err / datas.length);*/</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> getData(List&lt;svm_node[]&gt; nodeSet, List&lt;Double&gt; label, <span class="keyword">String</span> filename) &#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			FileReader fr = <span class="keyword">new</span> FileReader(<span class="keyword">new</span> File(filename));</span><br><span class="line">			<span class="keyword">BufferedReader</span> br = <span class="keyword">new</span> <span class="keyword">BufferedReader</span>(fr);</span><br><span class="line">			<span class="keyword">String</span> <span class="built_in">line</span> = <span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">while</span> ((<span class="built_in">line</span> = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">String</span>[] datas = <span class="built_in">line</span>.<span class="built_in">split</span>(<span class="string">","</span>);</span><br><span class="line">				svm_node[] vector = <span class="keyword">new</span> svm_node[datas.length - <span class="number">1</span>];</span><br><span class="line">				<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; datas.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">					svm_node node = <span class="keyword">new</span> svm_node();</span><br><span class="line">					node.index = i + <span class="number">1</span>;</span><br><span class="line">					node.value = Double.parseDouble(datas[i]);</span><br><span class="line">					vector[i] = node;</span><br><span class="line">				&#125;</span><br><span class="line">				nodeSet.<span class="built_in">add</span>(vector);</span><br><span class="line">				<span class="keyword">double</span> lablevalue = Double.parseDouble(datas[datas.length - <span class="number">1</span>]);</span><br><span class="line">				label.<span class="built_in">add</span>(lablevalue);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="柱状图标参数">柱状图标参数</h2><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">Bar.defaults = &#123;</span><br><span class="line">				</span><br><span class="line">	<span class="comment">//Boolean - If we show the scale above the chart data			</span></span><br><span class="line">	<span class="string">scaleOverlay :</span> <span class="literal">false</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - If we want to override with a hard coded scale</span></span><br><span class="line">	<span class="string">scaleOverride :</span> <span class="literal">false</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//** Required if scaleOverride is true **</span></span><br><span class="line">	<span class="comment">//Number - The number of steps in a hard coded scale</span></span><br><span class="line">	<span class="string">scaleSteps :</span> <span class="literal">null</span>,</span><br><span class="line">	<span class="comment">//Number - The value jump in the hard coded scale</span></span><br><span class="line">	<span class="string">scaleStepWidth :</span> <span class="literal">null</span>,</span><br><span class="line">	<span class="comment">//Number - The scale starting value</span></span><br><span class="line">	<span class="string">scaleStartValue :</span> <span class="literal">null</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">//String - Colour of the scale line	</span></span><br><span class="line">	<span class="string">scaleLineColor :</span> <span class="string">"rgba(0,0,0,.1)"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Pixel width of the scale line	</span></span><br><span class="line">	<span class="string">scaleLineWidth :</span> <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Boolean - Whether to show labels on the scale	</span></span><br><span class="line">	<span class="string">scaleShowLabels :</span> <span class="literal">false</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Interpolated JS string - can access value</span></span><br><span class="line">	<span class="string">scaleLabel :</span> <span class="string">"&lt;%=value%&gt;"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Scale label font declaration for the scale label</span></span><br><span class="line">	<span class="string">scaleFontFamily :</span> <span class="string">"'Arial'"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Scale label font size in pixels	</span></span><br><span class="line">	<span class="string">scaleFontSize :</span> <span class="number">12</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Scale label font weight style	</span></span><br><span class="line">	<span class="string">scaleFontStyle :</span> <span class="string">"normal"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Scale label font colour	</span></span><br><span class="line">	<span class="string">scaleFontColor :</span> <span class="string">"#666"</span>,	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">///Boolean - Whether grid lines are shown across the chart</span></span><br><span class="line">	<span class="string">scaleShowGridLines :</span> <span class="literal">true</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Colour of the grid lines</span></span><br><span class="line">	<span class="string">scaleGridLineColor :</span> <span class="string">"rgba(0,0,0,.05)"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Width of the grid lines</span></span><br><span class="line">	<span class="string">scaleGridLineWidth :</span> <span class="number">1</span>,	</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Boolean - If there is a stroke on each bar	</span></span><br><span class="line">	<span class="string">barShowStroke :</span> <span class="literal">true</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Pixel width of the bar stroke	</span></span><br><span class="line">	<span class="string">barStrokeWidth :</span> <span class="number">2</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Spacing between each of the X value sets</span></span><br><span class="line">	<span class="string">barValueSpacing :</span> <span class="number">5</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Spacing between data sets within X values</span></span><br><span class="line">	<span class="string">barDatasetSpacing :</span> <span class="number">1</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - Whether to animate the chart</span></span><br><span class="line">	<span class="string">animation :</span> <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Number - Number of animation steps</span></span><br><span class="line">	<span class="string">animationSteps :</span> <span class="number">60</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Animation easing effect</span></span><br><span class="line">	<span class="string">animationEasing :</span> <span class="string">"easeOutQuart"</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Function - Fires when the animation is complete</span></span><br><span class="line">	<span class="string">onAnimationComplete :</span> <span class="literal">null</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="蛛网图标参数">蛛网图标参数</h2><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">Radar.defaults = &#123;</span><br><span class="line">				</span><br><span class="line">	<span class="comment">//Boolean - If we show the scale above the chart data			</span></span><br><span class="line">	<span class="string">scaleOverlay :</span> <span class="literal">false</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - If we want to override with a hard coded scale</span></span><br><span class="line">	<span class="string">scaleOverride :</span> <span class="literal">false</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//** Required if scaleOverride is true **</span></span><br><span class="line">	<span class="comment">//Number - The number of steps in a hard coded scale</span></span><br><span class="line">	<span class="string">scaleSteps :</span> <span class="literal">null</span>,</span><br><span class="line">	<span class="comment">//Number - The value jump in the hard coded scale</span></span><br><span class="line">	<span class="string">scaleStepWidth :</span> <span class="literal">null</span>,</span><br><span class="line">	<span class="comment">//Number - The centre starting value</span></span><br><span class="line">	<span class="string">scaleStartValue :</span> <span class="literal">null</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - Whether to show lines for each scale point</span></span><br><span class="line">	<span class="string">scaleShowLine :</span> <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">//String - Colour of the scale line	</span></span><br><span class="line">	<span class="string">scaleLineColor :</span> <span class="string">"rgba(0,0,0,.1)"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Pixel width of the scale line	</span></span><br><span class="line">	<span class="string">scaleLineWidth :</span> <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Boolean - Whether to show labels on the scale	</span></span><br><span class="line">	<span class="string">scaleShowLabels :</span> <span class="literal">false</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Interpolated JS string - can access value</span></span><br><span class="line">	<span class="string">scaleLabel :</span> <span class="string">"&lt;%=value%&gt;"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Scale label font declaration for the scale label</span></span><br><span class="line">	<span class="string">scaleFontFamily :</span> <span class="string">"'Arial'"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Scale label font size in pixels	</span></span><br><span class="line">	<span class="string">scaleFontSize :</span> <span class="number">12</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Scale label font weight style	</span></span><br><span class="line">	<span class="string">scaleFontStyle :</span> <span class="string">"normal"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Scale label font colour	</span></span><br><span class="line">	<span class="string">scaleFontColor :</span> <span class="string">"#666"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - Show a backdrop to the scale label</span></span><br><span class="line">	<span class="string">scaleShowLabelBackdrop :</span> <span class="literal">true</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - The colour of the label backdrop	</span></span><br><span class="line">	<span class="string">scaleBackdropColor :</span> <span class="string">"rgba(255,255,255,0.75)"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - The backdrop padding above &amp; below the label in pixels</span></span><br><span class="line">	<span class="string">scaleBackdropPaddingY :</span> <span class="number">2</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - The backdrop padding to the side of the label in pixels	</span></span><br><span class="line">	<span class="string">scaleBackdropPaddingX :</span> <span class="number">2</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - Whether we show the angle lines out of the radar</span></span><br><span class="line">	<span class="string">angleShowLineOut :</span> <span class="literal">true</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Colour of the angle line</span></span><br><span class="line">	<span class="string">angleLineColor :</span> <span class="string">"rgba(0,0,0,.1)"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Pixel width of the angle line</span></span><br><span class="line">	<span class="string">angleLineWidth :</span> <span class="number">1</span>,			</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Point label font declaration</span></span><br><span class="line">	<span class="string">pointLabelFontFamily :</span> <span class="string">"'Arial'"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Point label font weight</span></span><br><span class="line">	<span class="string">pointLabelFontStyle :</span> <span class="string">"normal"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Point label font size in pixels	</span></span><br><span class="line">	<span class="string">pointLabelFontSize :</span> <span class="number">12</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Point label font colour	</span></span><br><span class="line">	<span class="string">pointLabelFontColor :</span> <span class="string">"#666"</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - Whether to show a dot for each point</span></span><br><span class="line">	<span class="string">pointDot :</span> <span class="literal">true</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Radius of each point dot in pixels</span></span><br><span class="line">	<span class="string">pointDotRadius :</span> <span class="number">3</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Pixel width of point dot stroke</span></span><br><span class="line">	<span class="string">pointDotStrokeWidth :</span> <span class="number">1</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - Whether to show a stroke for datasets</span></span><br><span class="line">	<span class="string">datasetStroke :</span> <span class="literal">true</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Number - Pixel width of dataset stroke</span></span><br><span class="line">	<span class="string">datasetStrokeWidth :</span> <span class="number">2</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - Whether to fill the dataset with a colour</span></span><br><span class="line">	<span class="string">datasetFill :</span> <span class="literal">true</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Boolean - Whether to animate the chart</span></span><br><span class="line">	<span class="string">animation :</span> <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Number - Number of animation steps</span></span><br><span class="line">	<span class="string">animationSteps :</span> <span class="number">60</span>,</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//String - Animation easing effect</span></span><br><span class="line">	<span class="string">animationEasing :</span> <span class="string">"easeOutQuart"</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Function - Fires when the animation is complete</span></span><br><span class="line">	<span class="string">onAnimationComplete :</span> <span class="literal">null</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="运行">运行</h1><p>右键单击<code>Run  as-&gt; MyEclipse Server Application</code>,启动后在浏览器里输入:localhost:8080/dataviewt/index.jsp可查看不同可视化效果 主要比较股票在2015-10-12,1和2015-10-13,2这两个不同时间段的行情指数</p>
<center><br><img src="http://7xiur2.com1.z0.glb.clouddn.com/0654.png" alt="蛛网图"><br></center>

<center><br><img src="http://7xiur2.com1.z0.glb.clouddn.com/0654.png" alt="分柱状图"><br></center>

<center><br><img src="http://7xiur2.com1.z0.glb.clouddn.com/0655.png" alt="涨幅趋势"><br></center>




  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/大数据/">大数据</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	<div class="share-jiathis">
	  
<div class="jiathis_style_24x24">
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_weixin"></a>
	<a class="jiathis_button_renren"></a>
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_googleplus"></a>
	<a class="jiathis_button_douban"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
    var jiathis_config={
    data_track_clickback:true,
    sm:"copy,renren,cqq",
    pic:"",
    summary:"",
    
  </script> 
<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=
" charset="utf-8"></script>      

	 </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/02/02/《machine-learning-with-spark》学习笔记-推荐模型/" title="《machine learning with spark》学习笔记--推荐模型">
  <strong>上一篇：</strong><br/>
  <span>
  《machine learning with spark》学习笔记--推荐模型</span>
</a>
</div>


<div class="next">
<a href="/2016/01/02/JAVA-EE-7-SDK-Tutorial-分析/"  title="JAVA EE 7 SDK Tutorial 分析">
 <strong>下一篇：</strong><br/> 
 <span>JAVA EE 7 SDK Tutorial 分析
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2016/01/04/大数据可视化Google-Chart实现/" data-title="大数据可视化Google Chart实现" data-url="http://pangjiuzala.github.io/2016/01/04/大数据可视化Google-Chart实现/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#数据读取"><span class="toc-number">1.</span> <span class="toc-text">数据读取</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#连接数据库"><span class="toc-number">1.1.</span> <span class="toc-text">连接数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查询数据"><span class="toc-number">1.2.</span> <span class="toc-text">查询数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据处理"><span class="toc-number">2.</span> <span class="toc-text">数据处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Weka连接数据库"><span class="toc-number">2.1.</span> <span class="toc-text">Weka连接数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据预处理"><span class="toc-number">2.2.</span> <span class="toc-text">数据预处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#非监督过滤"><span class="toc-number">2.2.1.</span> <span class="toc-text">非监督过滤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#存入到本地"><span class="toc-number">2.2.2.</span> <span class="toc-text">存入到本地</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对预处理后的数据分类"><span class="toc-number">2.2.3.</span> <span class="toc-text">对预处理后的数据分类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据显示"><span class="toc-number">3.</span> <span class="toc-text">数据显示</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#引入Chart-js文件"><span class="toc-number">3.1.</span> <span class="toc-text">引入Chart.js文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建图表"><span class="toc-number">3.2.</span> <span class="toc-text">创建图表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义表格"><span class="toc-number">3.3.</span> <span class="toc-text">自定义表格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据结构"><span class="toc-number">3.4.</span> <span class="toc-text">数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#预测数据获取"><span class="toc-number">3.5.</span> <span class="toc-text">预测数据获取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SVR预测类"><span class="toc-number">3.6.</span> <span class="toc-text">SVR预测类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#柱状图标参数"><span class="toc-number">3.7.</span> <span class="toc-text">柱状图标参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#蛛网图标参数"><span class="toc-number">3.8.</span> <span class="toc-text">蛛网图标参数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#运行"><span class="toc-number">4.</span> <span class="toc-text">运行</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=2129798793&verifier=c0951e84&dpc=1"></iframe>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>31</sup></a></li>
			
		
			
				<li><a href="/tags/大数据/" title="大数据">大数据<sup>26</sup></a></li>
			
		
			
				<li><a href="/tags/性能优化/" title="性能优化">性能优化<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/数据挖掘/" title="数据挖掘">数据挖掘<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/HBase/" title="HBase">HBase<sup>12</sup></a></li>
			
		
			
				<li><a href="/tags/Hadoop/" title="Hadoop">Hadoop<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/算法/" title="算法">算法<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Spark/" title="Spark">Spark<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/机器学习/" title="机器学习">机器学习<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/数据库/" title="数据库">数据库<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/网络爬虫/" title="网络爬虫">网络爬虫<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/移动互联网/" title="移动互联网">移动互联网<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/物联网/" title="物联网">物联网<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Android/" title="Android">Android<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/云平台/" title="云平台">云平台<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Taobao-File-System/" title="Taobao File System">Taobao File System<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/智慧医疗/" title="智慧医疗">智慧医疗<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/设计模式/" title="设计模式">设计模式<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/爬虫/" title="爬虫">爬虫<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/云计算/" title="云计算">云计算<sup>1</sup></a></li>
			
		
		</ul>
</div>


  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">归档</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">31</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">25</span></li></ul>
  </div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://blog.csdn.net/pangjiuzala" target="_blank" title="My Blog in  CSDN">CSDN</a>
            
          </li>
        
          <li>
            
            	<a href="http://saliormoon.github.io/" target="_blank" title="王宇峰的博客">王宇峰的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.changhuiyuan.com/" target="_blank" title="常惠源的博客">常惠源的博客</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="https://github.com/search?q=pangjiuzala&amp;type=Users" target="_blank" title="关注刘兴的github">关注</a>
</div>

  

  


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello,I&#39;m from ZjuCs! <br/>
			The more you diligent, the more you lucky!</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Copyright@ 2015 Liuxing All rights reserved.
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>




<script type="text/javascript">
  var duoshuoQuery = {short_name:"pangjiuzala"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'null', 'null');  
ga('send', 'pageview');
</script>



<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Ffeafc504b70a541dd3845d467335f367' type='text/javascript'%3E%3C/script%3E"));
</script>



<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_null'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s23.cnzz.com/z_stat.php%3Fid%3Dnull' type='text/javascript'%3E%3C/script%3E"));</script>

<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<script>
var option = {
  engineKey: '4ac092ad8d749fdc6293'
};
(function(w,d,t,u,n,s,e){
  s = d.createElement(t);
  s.src = u;
  s.async = 1;
  w[n] = function(r){
    w[n].opts = r;
  };
  e = d.getElementsByTagName(t)[0];
  e.parentNode.insertBefore(s, e);
})(window,document,'script','//tinysou-cdn.b0.upaiyun.com/ts.js','_ts');
_ts(option);
</script>

<!-- Tiny_search End -->

  </body>
</html>
